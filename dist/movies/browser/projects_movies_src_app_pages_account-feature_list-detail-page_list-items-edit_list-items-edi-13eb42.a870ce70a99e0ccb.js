"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([["projects_movies_src_app_pages_account-feature_list-detail-page_list-items-edit_list-items-edi-13eb42"],{1633:(C,p,i)=>{i.r(p),i.d(p,{default:()=>A});var f=i(4951),t=i(2223),m=i(5306),u=i(2285),g=i(5766),c=i(6424),h=i(4463),v=i(5088),x=i(4004),o=i(1365),M=i(1884),_=i(9300),y=i(6129),O=i(5203),T=i(5062),E=i(57),I=i(6436);let P=(()=>{class s extends g.x{constructor(){super(),this.state=(0,t.f3M)(I.V),this.detailsAdapter=(0,t.f3M)(T.XC),this.moviesResource=(0,t.f3M)(O.C),this.ui=(new E.AE).create(),this.vm$=this.select((0,c.Cc)(["items","searchResults","showResults","searchValue"]),(0,x.U)(({items:e,searchResults:n,showResults:a,searchValue:l})=>({items:(0,u.uu)(e),searchResults:n.filter(d=>!e[d.id]),showResults:a,searchValue:l}))),this.addMovieEvent$=this.ui.addMovie$.pipe((0,o.M)(this.select("id"))),this.deleteMovieEvent$=this.ui.deleteMovie$.pipe((0,o.M)(this.select("id"))),this.searchResponse$=this.ui.search$.pipe((0,M.x)(),(0,_.h)(Boolean),(0,y.z)(e=>this.moviesResource.queryMovie(e)),(0,x.U)(e=>e.map(n=>(0,v.z)({...n,inList:!1},{pathProp:"poster_path",dims:h.Jz})))),this.set({showResults:!1,searchResults:[],searchValue:""}),this.connect(this.searchResponse$,(e,n)=>({searchResults:n,showResults:!0})),this.connect(this.detailsAdapter.listDetails$,(e,n)=>({id:n.id,items:(0,u.qv)(n.results||[],"id")})),this.connect(this.ui.toggleResults$,(e,n)=>({showResults:n,searchValue:n?"":e.latestSelectedTitle,searchResults:[]})),this.connect(this.ui.addMovie$,(e,n)=>({showResults:!1,searchValue:n.title,latestSelectedTitle:n.title})),this.hold(this.addMovieEvent$,this.state.addMovieToList),this.hold(this.deleteMovieEvent$,this.state.deleteMovieFromList)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var R=i(2498),L=i(6099),b=i(4755);function k(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"li",9),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.adapter.ui.addMovie(l))}),t.TgZ(1,"div",10),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"h3",12),t._uU(4),t.qZA()()}if(2&s){const e=r.$implicit;t.xp6(2),t.Q6J("ngSrc",e.imgSrc)("width",e.imgWidth)("height",e.imgHeight)("title",e.title),t.xp6(2),t.Oqu(e.title)}}function Z(s,r){if(1&s){const e=t.EpF();t.TgZ(0,"li",13)(1,"div",14),t._uU(2),t.TgZ(3,"button",15),t.NdJ("click",function(){const l=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.adapter.ui.deleteMovie(l))}),t._UZ(4,"fast-svg",16),t.qZA()()()}if(2&s){const e=r.$implicit;t.xp6(2),t.hij(" ",e.title," ")}}function $(s,r){if(1&s){const e=t.EpF();t.ynx(0),t.TgZ(1,"fieldset")(2,"label",1),t._uU(3," Add Item "),t.qZA(),t.TgZ(4,"input",2,3),t.NdJ("focus",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.adapter.ui.toggleResults(!0))})("input",function(){t.CHM(e);const a=t.MAs(5),l=t.oxw();return t.KtG(l.adapter.ui.search(a.value))}),t.qZA(),t.TgZ(6,"ul",4),t.YNc(7,k,5,5,"li",5),t.qZA()(),t.TgZ(8,"ol",6),t.YNc(9,Z,5,1,"li",7),t.qZA(),t.TgZ(10,"div",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.adapter.ui.toggleResults(!1))}),t.qZA(),t.BQk()}if(2&s){const e=r.$implicit,n=t.oxw();t.xp6(4),t.Q6J("value",e.searchValue),t.xp6(2),t.Q6J("hidden",!e.showResults||!e.searchResults.length),t.xp6(1),t.Q6J("rxForOf",e.searchResults)("rxForTrackBy",n.trackByMovieId),t.xp6(2),t.Q6J("rxForOf",e.items)("rxForTrackBy",n.trackByResultId),t.xp6(1),t.Q6J("hidden",!e.searchResults.length)}}const A=(()=>{class s{constructor(){this.adapter=(0,t.f3M)(P),this.trackByMovieId=(0,m.R)("id"),this.trackByResultId=(0,m.R)("id")}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["ct-list-items-edit"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[[4,"rxLet"],["for","list-name"],["id","list-name","placeholder","Search for a movie...","type","text",3,"value","focus","input"],["itemInput",""],[1,"results",3,"hidden"],["class","item",3,"click",4,"rxFor","rxForOf","rxForTrackBy"],[1,"list"],["class","item selected",4,"rxFor","rxForOf","rxForTrackBy"],[1,"results-overlay",3,"hidden","click"],[1,"item",3,"click"],[1,"poster"],["alt","poster movie",1,"result-image","gradient",3,"ngSrc","width","height","title"],[1,"title"],[1,"item","selected"],[1,"box"],["aria-label","Delete item",1,"delete",3,"click"],["name","delete"]],template:function(e,n){1&e&&t.YNc(0,$,11,7,"ng-container",0),2&e&&t.Q6J("rxLet",n.adapter.vm$)},dependencies:[b.Zd,R._0,f.e,L.kB],styles:["label[_ngcontent-%COMP%]{display:block;font-size:var(--text-md)}input[_ngcontent-%COMP%]{margin-top:4px;font-size:var(--text-md);display:block;padding:10px 16px;width:100%;border:1px solid var(--palette-divider);background:var(--palette-background-paper);color:var(--palette-text-primary);cursor:pointer}input[_ngcontent-%COMP%]:focus{outline:1px solid var(--palette-divider)}fieldset[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:16px;border:none;position:relative}.list[_ngcontent-%COMP%]{display:block;counter-reset:listCounter;padding-bottom:16px}.item[_ngcontent-%COMP%]{display:flex;font-size:var(--text-md);width:100%;align-items:center;counter-increment:listCounter;padding:3px 0 3px 8px}.item[_ngcontent-%COMP%]   .overview[_ngcontent-%COMP%]{margin-bottom:8px}.item[_ngcontent-%COMP%]:before{margin-right:10px;content:counter(listCounter);background-color:var(--palette-custom-lightBlue);border-radius:50%;color:var(--palette-text-primary);width:24px;height:24px;display:inline-grid;place-items:center;flex-shrink:0}.box[_ngcontent-%COMP%]{padding:0 8px 0 20px;flex-grow:1;border:1px solid var(--palette-divider);display:flex;justify-content:space-between;align-items:center}.delete[_ngcontent-%COMP%]{border:none;background:none;width:48px;height:48px;cursor:pointer;border-radius:50%;display:flex;justify-content:center;align-items:center}.delete[_ngcontent-%COMP%]:hover{background:var(--palette-action-hover)}.results[_ngcontent-%COMP%]{max-height:300px;overflow:auto;position:absolute;top:calc(100% + 8px);background:var(--palette-background-paper);border:1px solid var(--palette-divider);width:100%;z-index:2000}.results-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;margin:auto;background:transparent;z-index:1000}.results[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px;border-bottom:1px solid var(--palette-divider)}.results[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:before{display:none}.results[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{background:var(--palette-action-hover);cursor:pointer}.overview[_ngcontent-%COMP%]{display:block;color:var(--palette-text-secondary)}.poster[_ngcontent-%COMP%]{width:92px;height:92px;overflow:hidden;margin-right:24px}.title[_ngcontent-%COMP%]{text-transform:none;font-weight:400;color:var(--palette-text-primary)}"],changeDetection:0}),s})()},5088:(C,p,i)=>{i.d(p,{z:()=>t});var f=i(6586);function t(m,u){let{pathProp:g,fallback:c,dims:h,sizes:v,srcset:x}=u;c=c||f.up;const o=m;return void 0!==v&&(o.imgSizes=v||"",o.imgSrcset=x||""),o.imgSrc=o[g]?o[g]+"":c,o.imgWidth=h.WIDTH,o.imgHeight=h.HEIGHT,o.imgRatio=o.imgWidth/o.imgHeight,o}}}]);