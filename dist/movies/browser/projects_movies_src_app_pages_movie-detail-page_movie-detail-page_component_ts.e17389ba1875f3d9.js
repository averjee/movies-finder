"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([["projects_movies_src_app_pages_movie-detail-page_movie-detail-page_component_ts"],{2851:(gt,p,r)=>{r.r(p),r.d(p,{default:()=>lt});var v=r(6424),l=r(4755),t=r(2223),_=r(4482),x=r(5797),M=r(8189),h=r(3269),C=r(457);var c=r(4004),P=r(9300),w=r(5766),g=r(3900),O=r(6459),Z=r(7885),T=r(1327),k=r(5203),u=r(57),S=r(8377),D=r(6070),m=r(5088),d=r(4463);let L=(()=>{class i extends w.x{constructor(){super(),this.movieState=(0,t.f3M)(Z.b),this.routerState=(0,t.f3M)(O.u),this.movieResource=(0,t.f3M)(k.C),this.actions=(new u.AE).create(),this.paginateRecommendations=this.actions.paginateRecommendations,this.routerMovieId$=this.routerState.select((0,T.p)("movie","detail")),this.routedMovieCtx$=this.routerMovieId$.pipe((0,g.w)(this.movieState.movieByIdCtx),(0,c.U)(e=>(e.value&&(e.value=function A(i){const a=i;let e=!1;return Array.isArray(a?.spoken_languages)&&0!==a?.spoken_languages.length&&(e=a.spoken_languages[0].english_name),a.languages_runtime_release=`${e+" / "||0} ${a.runtime} MIN. / ${new Date(a.release_date).getFullYear()}`,function U(i,a){let{pathPropFn:e,baseUrl:n}=a;n=n||"https://www.youtube.com/embed";const o=i,s=e(o);o.videoUrl=!!s&&`${n}/${s}`}(a,{pathPropFn:n=>n?.videos?.results[0]?.key+""}),(0,m.z)(a,{pathProp:"poster_path",dims:d.Ch,sizes:"(min-width: 901px) 15vw, 42vw",srcset:"154w, 185w, 342w, 500w, 780w"}),function $(i,a,e={}){let{target:n,baseUrl:o}=e;n=n||"_blank",o=o||"https://www.imdb.com/title/";const s=i;s.href=o+i[a],s.target=n}(a,"imdb_id",{}),a}(e.value)),e))),this.movieCastById$=this.routerMovieId$.pipe((0,g.w)(e=>this.movieResource.getCredits(e).pipe((0,c.U)(({cast:n})=>({value:n.map(I)})))),(0,D.Q)()),this.infiniteScrollRecommendations$=this.routerMovieId$.pipe((0,g.w)(e=>(0,S.h)(n=>this.movieResource.getMoviesRecommendations(e,n),this.actions.paginateRecommendations$,this.movieResource.getMoviesRecommendations(e,{page:1}))),(0,c.U)(e=>({...e,results:e?.results?.map(R)}))),this.hold(this.routerMovieId$,this.movieState.fetchMovie)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function I(i){const a=i;return(0,m.z)(a,{pathProp:"profile_path",dims:d.tI,sizes:"44px",srcset:"154w"}),a}function R(i){return(0,m.z)(i,{pathProp:"poster_path",dims:d.SU,sizes:"(min-width: 600px) 21vw, 15vw",srcset:"185w, 342w"})}var f=r(5048),J=r(9818),B=r(137),Q=r(6110),z=r(4951);let F=(()=>{class i{constructor(){this.element=(0,t.f3M)(t.SBq)}set bypassSrc(e){"string"==typeof e&&(this.element.nativeElement.src=e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=t.lG2({type:i,selectors:[["iframe","bypassSrc",""]],inputs:{bypassSrc:"bypassSrc"},standalone:!0}),i})();var G=r(2498),N=r(6099),Y=r(6538),H=r(4639);const E=["trailerDialog"],W=["castListWrapper"],K=function(i){return["/list/genre/",i]};function j(i,a){if(1&i&&(t.TgZ(0,"a",29),t._UZ(1,"fast-svg",30),t._uU(2),t.qZA()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(2,K,e.id)),t.xp6(2),t.hij(" ",e.name," ")}}const V=function(i){return["/detail/person/",i]};function q(i,a){if(1&i&&(t.TgZ(0,"a",34),t.NdJ("click",function(n){return n.preventDefault()}),t.TgZ(1,"picture"),t._UZ(2,"img",35),t.qZA()()),2&i){const e=a.$implicit,n=a.index;t.Q6J("routerLink",t.VKq(10,V,e.id)),t.uIk("data-uf","cast-"+n)("aria-label",e.name),t.xp6(2),t.Q6J("ngSrc",e.imgSrc)("ngSrcset",e.imgSrcset)("sizes",e.imgSizes)("width",e.imgWidth)("height",e.imgHeight)("alt",e.name)("title",e.name)}}function X(i,a){1&i&&t._UZ(0,"div",36)}function tt(i,a){if(1&i&&(t.TgZ(0,"div",31,32),t.YNc(2,q,3,12,"a",33),t.YNc(3,X,1,0,"div",28),t.qZA()),2&i){const e=a.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("rxForOf",e.value)("rxForTrackBy",n.trackByCast),t.xp6(1),t.Q6J("ngIf",e.loading)}}function et(i,a){if(1&i&&(t.TgZ(0,"a",37),t._uU(1," Website "),t._UZ(2,"fast-svg",38),t.qZA()),2&i){const e=t.oxw().$implicit;t.Q6J("href",e.homepage,t.LSH)}}function it(i,a){if(1&i&&(t.TgZ(0,"a",39),t._uU(1," IMDB "),t._UZ(2,"fast-svg",40),t.qZA()),2&i){const e=t.oxw().$implicit;t.Q6J("target",e.target)("href",e.href,t.LSH)}}function nt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",41),t.NdJ("mouseover",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.ui.iframe("load"))})("click",function(o){t.CHM(e);const s=t.oxw(2);return o.preventDefault(),t.KtG(s.ui({dialog:"show",iframe:"load"}))}),t._uU(1," Trailer "),t._UZ(2,"fast-svg",42),t.qZA()}}function at(i,a){if(1&i&&t._UZ(0,"iframe",43),2&i){const e=t.oxw().$implicit;t.Q6J("bypassSrc",e.videoUrl)}}function ot(i,a){1&i&&t._UZ(0,"div",36)}function rt(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"ui-detail-grid")(2,"div",4),t._UZ(3,"img",5),t.qZA(),t.TgZ(4,"div",6)(5,"header")(6,"h1",7),t._uU(7),t.qZA(),t.TgZ(8,"h2",8),t._uU(9),t.qZA()(),t.TgZ(10,"section",9),t._UZ(11,"ui-star-rating",10),t.TgZ(12,"div",11)(13,"strong"),t._uU(14),t.qZA()()(),t.TgZ(15,"section")(16,"h3"),t._uU(17,"The Genres"),t.qZA(),t.TgZ(18,"div",12),t.YNc(19,j,3,4,"a",13),t.qZA()(),t.TgZ(20,"section")(21,"h3"),t._uU(22,"The Synopsis"),t.qZA(),t.TgZ(23,"p"),t._uU(24),t.qZA()(),t.TgZ(25,"section")(26,"h3"),t._uU(27,"The Cast"),t.qZA(),t.TgZ(28,"div",14)(29,"button",15),t.NdJ("mousedown",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.move(70))}),t._uU(30," \xab "),t.qZA(),t.YNc(31,tt,4,3,"div",16),t.TgZ(32,"button",17),t.NdJ("mousedown",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.move(-70))}),t._uU(33," \xbb "),t.qZA()()(),t.TgZ(34,"section",18),t.YNc(35,et,3,1,"a",19),t.YNc(36,it,3,2,"a",20),t.YNc(37,nt,3,0,"a",21),t.TgZ(38,"dialog",22,23)(40,"span",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.ui.dialog("close"))}),t.qZA(),t.YNc(41,at,1,1,"iframe",25),t.qZA(),t.TgZ(42,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.back())}),t._UZ(43,"fast-svg",27),t._uU(44,"\xa0Back "),t.qZA()()()(),t.YNc(45,ot,1,0,"div",28),t.BQk()}if(2&i){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Udp("opacity",e?1:0),t.xp6(2),t.Q6J("ngSrc",e.imgSrc)("ngSrcset",e.imgSrcset)("sizes",e.imgSizes)("width",e.imgWidth)("height",e.imgHeight)("title",e.title),t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Oqu(e.tagline),t.xp6(2),t.Q6J("rating",e.vote_average)("showRating",!0),t.xp6(3),t.Oqu(e.languages_runtime_release),t.xp6(5),t.Q6J("ngForOf",e.genres)("ngForTrackBy",n.trackByGenre),t.xp6(5),t.Oqu(e.overview||"There is no synopsis available..."),t.xp6(7),t.Q6J("rxLet",n.castList$)("rxLetStrategy","immediate"),t.xp6(4),t.Q6J("ngIf",e.homepage),t.xp6(1),t.Q6J("ngIf",e.imdb_id),t.xp6(1),t.Q6J("ngIf",e.videoUrl),t.xp6(4),t.Q6J("rxIf",n.loadIframe$),t.xp6(4),t.Q6J("ngIf",!e)}}function st(i,a){1&i&&t._UZ(0,"div",36)}function ct(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"ui-movie-list",44),t.NdJ("paginate",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.paginateRecommendations())}),t.qZA(),t.YNc(2,st,1,0,"div",28),t.BQk()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("movies",e.results)("withImgPriority",0),t.xp6(1),t.Q6J("ngIf",e.loading)}}const lt=(()=>{class i{constructor(e){this.actionsF=e,this.location=(0,t.f3M)(l.Ye),this.adapter=(0,t.f3M)(L),this.effects=(0,t.f3M)(f.G),this.ui=this.actionsF.create(),this.movieCtx$=this.adapter.routedMovieCtx$,this.loadIframe$=this.ui.iframe$.pipe(function b(...i){return function y(...i){const a=(0,h.yG)(i),e=(0,h._6)(i,1/0);return i=(0,x.k)(i),(0,_.e)((n,o)=>{(0,M.J)(e)((0,C.D)([n,...i],a)).subscribe(o)})}(...i)}(this.movieCtx$.pipe((0,v.Cc)(["value"],{value:({video:n})=>n}))),(0,c.U)(n=>"load"===n)),this.movie$=this.movieCtx$.pipe((0,c.U)(n=>n?.value||null),(0,P.h)(n=>!!n)),this.castList$=this.adapter.movieCastById$,this.castListLoading$=this.adapter.movieCastById$.pipe((0,v.Ys)("loading")),this.infiniteScrollRecommendations$=this.adapter.infiniteScrollRecommendations$,this.trailerDialog=void 0,this.castListWrapper=void 0,this.trackByGenre=(n,o)=>o.name,this.trackByCast=(n,o)=>o.cast_id,this.effects.register(this.ui.dialog$.pipe((0,c.U)(n=>"show"===n)),n=>n?this.trailerDialog?.nativeElement?.showModal():this.trailerDialog?.nativeElement.close())}move(e){if(this.castListWrapper){const o=this.castListWrapper.nativeElement.scrollLeft-e;this.castListWrapper.nativeElement.scrollLeft=o>0?Math.max(0,o):Math.min(o,this.castListWrapper.nativeElement.children.length*e)}}back(){this.location.back()}paginateRecommendations(){this.adapter.paginateRecommendations()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(u.AE))},i.\u0275cmp=t.Xpm({type:i,selectors:[["ct-movie"]],viewQuery:function(e,n){if(1&e&&(t.Gf(E,5),t.Gf(W,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.trailerDialog=o.first),t.iGM(o=t.CRH())&&(n.castListWrapper=o.first)}},standalone:!0,features:[t._Bn([f.G]),t.jDz],decls:9,vars:3,consts:[[1,"movie-detail-wrapper"],[4,"rxLet"],[1,"recommendations"],[4,"rxLet","rxLetStrategy"],["detailGridMedia",""],["priority","high","alt","poster movie","data-uf","hero-img",1,"aspectRatio-2-3","fit-cover",3,"ngSrc","ngSrcset","sizes","width","height","title"],["detailGridDescription",""],["data-uf","header-main"],["data-uf","header-sub"],[1,"movie-detail--basic-infos"],[3,"rating","showRating"],[1,"movie-detail--languages-runtime-release"],[1,"movie-detail--genres"],["class","movie-detail--genres-link",3,"routerLink",4,"ngFor","ngForOf","ngForTrackBy"],[1,"movie-detail--cast-list"],["aria-label","Scroll cast left","type","button","role","button",1,"cast-list--btn",3,"mousedown"],["class","cast-list",4,"rxLet","rxLetStrategy"],["aria-label","Scroll cast right","type","button","role","button",1,"cast-list--btn",3,"mousedown"],[1,"movie-detail--ad-section-links"],["class","btn","target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf"],["class","btn","rel","noopener noreferrer",3,"target","href",4,"ngIf"],["class","btn","href","#trainer",3,"mouseover","click",4,"ngIf"],["id","trailer-dialog",1,"video"],["trailerDialog",""],["aria-controls","trailer-dialog",1,"close",3,"click"],["loading","lazy","width","460","height","230",3,"bypassSrc",4,"rxIf"],["aria-label","Back","data-uf","back",1,"btn","primary-button",3,"click"],["name","back","size","1em",1,"btn__icon"],["class","loader",4,"ngIf"],[1,"movie-detail--genres-link",3,"routerLink"],["name","genre",2,"margin-right","0.5rem"],[1,"cast-list"],["castListWrapper",""],["class","movie-detail--cast-actor",3,"routerLink","click",4,"rxFor","rxForOf","rxForTrackBy"],[1,"movie-detail--cast-actor",3,"routerLink","click"],[3,"ngSrc","ngSrcset","sizes","width","height","alt","title"],[1,"loader"],["target","_blank","rel","noopener noreferrer",1,"btn",3,"href"],["name","website",1,"btn__icon"],["rel","noopener noreferrer",1,"btn",3,"target","href"],["name","imdb",1,"btn__icon"],["href","#trainer",1,"btn",3,"mouseover","click"],["name","play",1,"btn__icon"],["loading","lazy","width","460","height","230",3,"bypassSrc"],[3,"movies","withImgPriority","paginate"]],template:function(e,n){1&e&&(t.TgZ(0,"article",0),t.YNc(1,rt,46,23,"ng-container",1),t.qZA(),t.TgZ(2,"article",2)(3,"header")(4,"h1"),t._uU(5,"Recommended"),t.qZA(),t.TgZ(6,"h2"),t._uU(7,"Movies"),t.qZA()(),t.YNc(8,ct,3,3,"ng-container",3),t.qZA()),2&e&&(t.xp6(1),t.Q6J("rxLet",n.movie$),t.xp6(7),t.Q6J("rxLet",n.infiniteScrollRecommendations$)("rxLetStrategy","immediate"))},dependencies:[l.O5,l.ax,H.rH,l.Zd,J.K,B.T,Q.O,G._0,Y.H7,z.e,F,N.kB],styles:['.aspectRatio-2-3[_ngcontent-%COMP%]{width:100%;display:block;height:auto;aspect-ratio:var(--theme-aspectRatio-2-3)}.aspectRatio-16-9[_ngcontent-%COMP%]{width:100%;display:block;height:auto;aspect-ratio:var(--theme-aspectRatio-16-9)}.aspectRatio-4-3[_ngcontent-%COMP%]{width:100%;display:block;height:auto;aspect-ratio:var(--theme-aspectRatio-4-3)}.fit-cover[_ngcontent-%COMP%]{width:100%;display:block;object-fit:cover;height:100%}.loader[_ngcontent-%COMP%]{display:grid;place-items:center;min-width:150px;min-height:150px;width:100%}.loader[_ngcontent-%COMP%]:after{content:" ";width:3rem;height:3rem;border-radius:var(--theme-borderRadius-circle);background-color:var(--palette-primary-dark);box-shadow:-5rem 0 0 var(--palette-primary-main);animation:_ngcontent-%COMP%_circle-classic 1s ease-in-out infinite alternate}.loader.center-v[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@keyframes _ngcontent-%COMP%_circle-classic{0%{opacity:.1;transform:rotate(0) scale(.5)}to{opacity:1;transform:rotate(360deg) scale(1.2)}}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;display:inline-flex;outline:none;padding:6px 16px;min-width:96px;min-height:48px;font-weight:400;font-size:var(--text-md);color:var(--palette-primary-dark);border:1px solid rgba(var(--palette-primary-main-rgb),.5);border-radius:var(--theme-borderRadius-m);box-shadow:none;background-color:transparent;cursor:pointer}.btn__icon[_ngcontent-%COMP%]{width:24px;height:24px;margin-left:8px}.primary-button[_ngcontent-%COMP%]{background:var(--palette-primary-main);color:var(--palette-primary-contrast-text)}.primary-button[_ngcontent-%COMP%]:hover{background-color:var(--palette-primary-light)}dialog[_ngcontent-%COMP%]::-webkit-backdrop{background:rgba(0,0,0,.5);-webkit-transition:opacity var(--theme-anim-duration-leavingScreen) var(--theme-anim-easing-easeInOut) 0ms;transition:opacity var(--theme-anim-duration-leavingScreen) var(--theme-anim-easing-easeInOut) 0ms}dialog[_ngcontent-%COMP%]::backdrop{background:rgba(0,0,0,.5);transition:opacity var(--theme-anim-duration-leavingScreen) var(--theme-anim-easing-easeInOut) 0ms}dialog[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;top:-30px;right:-30px}dialog[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:after, dialog[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:before{content:"";position:absolute;height:2px;width:100%;top:50%;left:0;background:rgb(255,255,255);transform:rotate(45deg);border-radius:var(--theme-borderRadius-m);margin-top:-6px}dialog[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:after{transform:rotate(-45deg)}dialog.video[_ngcontent-%COMP%]{aspect-ratio:var(--theme-aspectRatio-16-9);width:90%}dialog[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%], dialog[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%;display:block;object-fit:cover;height:100%}[_nghost-%COMP%]{width:100%;display:block}.loader[_ngcontent-%COMP%]{position:absolute;z-index:200;top:250px}.movie-detail-wrapper[_ngcontent-%COMP%]{min-height:500px}.movie-detail[_ngcontent-%COMP%]{contain:content}@media only screen and (max-width: 1500px){.movie-detail--grid-item[_ngcontent-%COMP%]{padding:3rem}}.movie-detail--genres[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.movie-detail--genres-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 0;font-weight:700;text-transform:uppercase}.movie-detail--genres-link[_ngcontent-%COMP%]:not(:last-child){margin-right:2rem}.movie-detail--ad-section-links[_ngcontent-%COMP%]   .section--content[_ngcontent-%COMP%]{display:flex;margin-right:auto}.movie-detail--ad-section-links[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:2rem}@media only screen and (max-width: 1300px){.movie-detail--ad-section-links[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:1rem}}.movie-detail--ad-section-links[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:last-child{margin-right:0rem;float:right}.movie-detail--basic-infos[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.movie-detail--cast-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:0 20px;width:100%;height:50px;content-visibility:auto;contain-intrinsic-size:50px;contain:strict;overflow:hidden}.cast-list[_ngcontent-%COMP%]{width:100%;display:flex;overflow-x:scroll;position:relative;scroll-behavior:smooth;scroll-snap-type:x mandatory}.cast-list[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.cast-list[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}.cast-list--btn[_ngcontent-%COMP%]{min-height:48px;min-width:48px;padding-bottom:4px;background:transparent;border:0;z-index:2;font-size:40px;text-decoration:none;cursor:pointer;color:#666}.movie-detail--languages-runtime-release[_ngcontent-%COMP%]{color:var(--palette-warning-dark);text-transform:uppercase}.movie-detail--section[_ngcontent-%COMP%]{margin-bottom:3rem}.movie-detail--cast-actor[_ngcontent-%COMP%]{display:block;height:auto;width:70px;content-visibility:auto;contain-intrinsic-size:50px;flex-shrink:0}.movie-detail--cast-actor[_ngcontent-%COMP%]   picture[_ngcontent-%COMP%]{display:inline-flex;align-items:center;width:44px;height:44px;position:relative;overflow:hidden;border-radius:var(--theme-borderRadius-circle)}.movie-detail--cast-actor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:inline;object-fit:cover;margin:0 auto}.recommendations[_ngcontent-%COMP%]{contain:content}'],changeDetection:0}),i})()}}]);